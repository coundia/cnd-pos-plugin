<div class="clr-row clr-mb-4" *ngIf="items.length; else emptyCart">
	<div class="clr-col-12 clr-row clr-align-items-center clr-justify-content-between clr-pb-2 clr-border-bottom m-4">
		<strong>Panier ({{ items.length }} {{ items.length > 1 ? 'articles' : 'article' }})</strong>
		<button
				[disabled]=" validatePayment"
				class="btn btn-sm btn-link p-0" (click)="clearCart()">Vider
		</button>
	</div>

	<div class="clr-col-12">
		<div *ngFor="let item of items"
			 class="clr-row clr-align-items-center clr-mt-2 clr-py-2 clr-border-bottom">
			<div class="clr-col-6">
				<div>
					<a
							href="javascript:void(0)"
							role="tooltip"
							aria-haspopup="true"
							class="tooltip tooltip-sm tooltip-left"
					>
			<span
					class="truncate"
					style="max-width: 150px;"
					[title]="item.productVariant.name"
			>
			<strong>{{ item.productVariant.name }}</strong><br>
			</span>
						<span class="tooltip-content">
			{{ item.productVariant.name }}
			</span>
					</a>
				</div>


				<div class="clr-text-muted">
					{{ item.productVariant.priceWithTax / 100 | number }} * {{ item.quantity }}
				</div>
			</div>
			<div class="clr-col-3 clr-flex clr-align-items-center clr-justify-content-center">
				<button class="btn btn-sm btn-outline"
						(click)="decrease(item)"
						[disabled]="item.quantity <= 1 || validatePayment">â€“
				</button>
				<span class="clr-mx-2">{{ item.quantity }}</span>
				<button class="btn btn-sm btn-outline"
						(click)="increase(item)"
						[disabled]="item.quantity >= item.productVariant.stockOnHand || validatePayment ">+
				</button>
			</div>
			<div class="clr-col-2 clr-text-right">
				{{ (item.quantity * (item.productVariant.priceWithTax / 100)) }}
			</div>
			<div class="clr-col-1 clr-text-right">
				<button class="btn btn-sm btn-danger"
						[disabled]=" validatePayment"
						(click)="remove(item)">&times;
				</button>
			</div>
		</div>
	</div>

	<div class="clr-col-12 clr-row clr-align-items-center clr-justify-content-end clr-pt-2">
		<strong class="clr-mr-2">Total :</strong>
		<strong>{{ getTotal() | currency:items[0]?.productVariant.currencyCode }}</strong>
	</div>
</div>

<ng-template #emptyCart>
	<p class="clr-text-center clr-mt-4">Aucun article dans le panier.</p>
</ng-template>
