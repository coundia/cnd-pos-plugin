<div class="drawer-modal">

	<div #printContent class="p-4 border border-base-content bg-white">
			<h2 class="text-lg font-bold mb-2">FACTURE</h2>
			<p><strong>NUMERO:</strong> {{ order?.code || 'N/A' }}</p>
			<p><strong>Date:</strong> {{ order?.createdAt ? (order.createdAt | date:'short') : 'N/A' }}</p>
			<p><strong>Customer:</strong>
				{{ order?.customer?.firstName || '' }} {{ order?.customer?.lastName || '' }}
			</p>
			<hr class="my-2">
			<table class="table w-full my-4" *ngIf="order?.lines?.length">
				<thead>
				<tr>
					<th>Product</th>
					<th>Qty</th>
					<th>Unit</th>
					<th>Total</th>
				</tr>
				</thead>
				<tbody>
				<tr *ngFor="let l of order.lines">
					<td>
						{{ l?.productVariant?.name || 'N/A' }}
					</td>
					<td>{{ l?.quantity ?? 'N/A' }}</td>
					<td>
						{{ l?.unitPriceWithTax ? (l.unitPriceWithTax / 100 | number:'1.2-2') : 'N/A' }}
						{{ order?.currencyCode || '' }}
					</td>
					<td>
						{{ l?.linePriceWithTax ? (l.linePriceWithTax / 100 | number:'1.2-2') : 'N/A' }}
						{{ order?.currencyCode || '' }}
					</td>
				</tr>
				</tbody>
			</table>
			<hr class="my-2">
			<p><b>Subtotal:</b>
				{{ order?.subTotalWithTax ? (order.subTotalWithTax / 100 | number:'1.2-2') : 'N/A' }}
				{{ order?.currencyCode || '' }}
			</p>
			<p><b>Shipping:</b>
				{{ order?.shippingWithTax ? (order.shippingWithTax / 100 | number:'1.2-2') : 'N/A' }}
				{{ order?.currencyCode || '' }}
			</p>
			<p><b>Total:</b>
				<span class="text-lg font-bold">
					{{ order?.totalWithTax ? (order.totalWithTax / 100 | number:'1.2-2') : 'N/A' }}
					{{ order?.currencyCode || '' }}
				</span>
			</p>
			<hr class="my-2">
			<p>
				<b>Shipping Address:</b>
				<span *ngIf="order?.shippingAddress">
					{{ order.shippingAddress.fullName || '' }},
					{{ order.shippingAddress.streetLine1 || '' }},
					{{ order.shippingAddress.city || '' }},
					{{ order.shippingAddress.country || '' }}
				</span>
				<span *ngIf="!order?.shippingAddress">N/A</span>
			</p>
		</div>
		<ng-template vdrDialogButtons>
			<button class="btn" (click)="close()">Close</button>
			<button class="btn btn-success" (click)="printPdf()">Download PDF</button>
		</ng-template>

</div>
